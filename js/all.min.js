function makeRequest(){var e=$("#service").find(":selected").val();switch(e){case"g":getGoogle();break;case"b":getBitly();break;case"t":getTinyURL();break;default:getGoogle()}}function getGoogle(){var e=$("#fullURL").val().toLowerCase(),o=gapi.client.urlshortener.url.insert({resource:{longUrl:e}});o.execute(function(e){if(isEmpty(e.id))$("#error").show(),$("#error").text("error: creating short url: goo.gl");else{var o=e.id;$("#shortenURL").text(o),$("#click-to-copy").show(),get_QRCode(o)}})}function getBitly(){var e="o_4qkhbs5vl0",o="R_3773937f1ac64e88ae4fe130d6356681",t=$("#fullURL").val().toLowerCase();$.ajax({url:"https://api-ssl.bitly.com/v3/shorten",data:{longUrl:t,apiKey:o,login:e},dataType:"jsonp",success:function(e){var o=e.data.url;$("#shortenURL").text(o),$("#click-to-copy").show(),get_QRCode(o)},error:function(){$("#error").show(),$("#error").text("error: creating short url: bit.ly")}})}function getTinyURL(){var e=$("#fullURL").val().toLowerCase();$.getJSON("https://urltinyfy.appspot.com/tinyurl?url="+encodeURIComponent(e)+"&callback=?",function(e){var o=e.tinyurl;$("#shortenURL").text(o),$("#click-to-copy").show(),get_QRCode(o)}).fail(function(e,o,t){$("#error").show(),$("#error").text("error: creating short url: TinyURL")})}function getIsgd(){var e=$("#fullURL").val().toLowerCase();$.getJSON("https://urltinyfy.appspot.com/isgd?url="+encodeURIComponent(e)+"&callback=?",function(e){var o=e.tinyurl;$("#shortenURL").text(o),$("#click-to-copy").show(),get_QRCode(o)}).fail(function(e,o,t){$("#error").show(),$("#error").text("error: creating short url: is.gd")})}function getVgd(){var e=$("#fullURL").val().toLowerCase();$.getJSON("https://urltinyfy.appspot.com/vgd?url="+encodeURIComponent(e)+"&callback=?",function(e){var o=e.tinyurl;$("#shortenURL").text(o),$("#click-to-copy").show(),get_QRCode(o)}).fail(function(e,o,t){$("#error").show(),$("#error").text("error: creating short url: v.gd")})}function load(){$("#error").hide(),$("#error").addClass("isa_error"),$("#click-to-copy").hide(),gapi.client.setApiKey("AIzaSyAFPETEhOLJGMLUq9Ql_o3lyJtvJ5IUaqo"),gapi.client.load("urlshortener","v1",function(){})}function get_QRCode(e){var o=120;isEmpty(e)||jQuery("#qrcode").qrcode({width:o,height:o,text:e})}function isUrl(e){var o="^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",t=new RegExp(o);return t.test(e)}function isEmpty(e){return!e||0===e.length}$(document).ready(function(){$("form").submit(function(e){e.preventDefault();var o=$("#fullURL").val().toLowerCase();$("#shortenURL").val(),$("#service").find(":selected").val();$("#error").text(""),$("#shortenURL").text(""),$("#qrcode").text(""),isUrl(o)?($("#form").removeClass("has-error").addClass("has-success"),$(".glyphicon").removeClass("glyphicon-remove").addClass("glyphicon-ok"),$("#error").hide(),makeRequest()):($("#form").removeClass("has-success").addClass("has-error"),$(".glyphicon").removeClass("glyphicon-ok").addClass("glyphicon-remove"),$("#error").show(),$("#error").text("URL format is not correct"),$("#click-to-copy").hide())}),$("#clean").click(function(){$("#fullURL").val(""),$("#error").hide(),$("#error").text(""),$("#click-to-copy").hide(),$("#shortenURL").text(""),$("#qrcode").text(""),$("#form").removeClass("has-error").removeClass("has-success"),$(".glyphicon").removeClass("glyphicon-remove").removeClass("glyphicon-ok")});var e=new Clipboard("#click-to-copy");e.on("success",function(e){console.info("Action:",e.action),console.info("Text:",e.text),e.clearSelection()}),$("#click-to-copy").tooltip(),function(e,o,t){var r,n=e.getElementsByTagName(o)[0];e.getElementById(t)||(r=e.createElement(o),r.id=t,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4&appId=914645301919009",n.parentNode.insertBefore(r,n))}(document,"script","facebook-jssdk")}),window.onload=load;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWFrZVJlcXVlc3QiLCJzZXJ2aWNlIiwiJCIsImZpbmQiLCJ2YWwiLCJnZXRHb29nbGUiLCJnZXRCaXRseSIsImdldFRpbnlVUkwiLCJmdWxsVVJMIiwidG9Mb3dlckNhc2UiLCJyZXF1ZXN0IiwiZ2FwaSIsImNsaWVudCIsInVybHNob3J0ZW5lciIsInVybCIsImluc2VydCIsInJlc291cmNlIiwibG9uZ1VybCIsImV4ZWN1dGUiLCJyZXNwb25zZSIsImlzRW1wdHkiLCJpZCIsInNob3ciLCJ0ZXh0IiwicyIsImdldF9RUkNvZGUiLCJ1c2VybmFtZSIsImtleSIsImFqYXgiLCJkYXRhIiwiYXBpS2V5IiwibG9naW4iLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJ2IiwiZXJyb3IiLCJnZXRKU09OIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidGlueXVybCIsImZhaWwiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImdldElzZ2QiLCJnZXRWZ2QiLCJsb2FkIiwiaGlkZSIsImFkZENsYXNzIiwic2V0QXBpS2V5Iiwic2l6ZSIsImpRdWVyeSIsInFyY29kZSIsIndpZHRoIiwiaGVpZ2h0IiwiaXNVcmwiLCJzdHJSZWdleCIsInJlIiwiUmVnRXhwIiwidGVzdCIsInN0ciIsImxlbmd0aCIsImRvY3VtZW50IiwicmVhZHkiLCJzdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVDbGFzcyIsImNsaWNrIiwiY2xpcGJvYXJkIiwiQ2xpcGJvYXJkIiwib24iLCJjb25zb2xlIiwiaW5mbyIsImFjdGlvbiIsImNsZWFyU2VsZWN0aW9uIiwidG9vbHRpcCIsImQiLCJqcyIsImZqcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIndpbmRvdyIsIm9ubG9hZCJdLCJtYXBwaW5ncyI6IkFBdUVB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QUgsR0FDQSxHQUFBd0QsR0FBQUMsRUFBQUYsRUFBQUcscUJBQUF2RCxHQUFBLEVBQ0FvRCxHQUFBSSxlQUFBM0QsS0FDQXdELEVBQUFELEVBQUFLLGNBQUF6RCxHQUFBcUQsRUFBQXhELEdBQUFBLEVBQ0F3RCxFQUFBSyxJQUFBLGlGQUNBSixFQUFBSyxXQUFBQyxhQUFBUCxFQUFBQyxLQUNBakIsU0FBQSxTQUFBLG9CQW9JQXdCLE9BQUFDLE9BQUF6QyIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy9TaG9ydGVuIEJ1dHRvblxuICAgICAgICAkKFwiZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGZ1bGxVUkwgPSAkKFwiI2Z1bGxVUkxcIikudmFsKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBzaG9ydGVuVVJMID0gJChcIiNzaG9ydGVuVVJMXCIpLnZhbCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgc2VydmljZSA9ICQoXCIjc2VydmljZVwiKS5maW5kKFwiOnNlbGVjdGVkXCIpLnZhbCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2NsZWFuXG4gICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnRleHQoXCJcIik7XG4gICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChcIlwiKTtcbiAgICAgICAgICAgICQoXCIjcXJjb2RlXCIpLnRleHQoXCJcIik7XG5cbiAgICAgICAgICAgIGlmICghaXNVcmwoZnVsbFVSTCkpIHtcbiAgICAgICAgICAgICAgICAvL0Vycm9yXG4gICAgICAgICAgICAgICAgJChcIiNmb3JtXCIpLnJlbW92ZUNsYXNzKFwiaGFzLXN1Y2Nlc3NcIikuYWRkQ2xhc3MoXCJoYXMtZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgJChcIi5nbHlwaGljb25cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24tb2tcIikuYWRkQ2xhc3MoXCJnbHlwaGljb24tcmVtb3ZlXCIpOyAgICBcbiAgICAgICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnRleHQoXCJVUkwgZm9ybWF0IGlzIG5vdCBjb3JyZWN0XCIpO1xuICAgICAgICAgICAgICAgICQoXCIjY2xpY2stdG8tY29weVwiKS5oaWRlKCk7XG4gICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL1N1Y2Nlc3NcbiAgICAgICAgICAgICAgICAkKFwiI2Zvcm1cIikucmVtb3ZlQ2xhc3MoXCJoYXMtZXJyb3JcIikuYWRkQ2xhc3MoXCJoYXMtc3VjY2Vzc1wiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmdseXBoaWNvblwiKS5yZW1vdmVDbGFzcyhcImdseXBoaWNvbi1yZW1vdmVcIikuYWRkQ2xhc3MoXCJnbHlwaGljb24tb2tcIik7XG4gICAgICAgICAgICAgICAgJChcIiNlcnJvclwiKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgbWFrZVJlcXVlc3QoKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcblxuICAgICAgICB9KTtcblxuICAgICAgICAvL0NsZWFuIEJ1dHRvblxuICAgICAgICAkKFwiI2NsZWFuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIiNmdWxsVVJMXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICQoXCIjZXJyb3JcIikuaGlkZSgpO1xuICAgICAgICAgICAgJChcIiNlcnJvclwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIjc2hvcnRlblVSTFwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgJChcIiNxcmNvZGVcIikudGV4dChcIlwiKTtcbiAgICAgICAgICAgICQoXCIjZm9ybVwiKS5yZW1vdmVDbGFzcyhcImhhcy1lcnJvclwiKS5yZW1vdmVDbGFzcyhcImhhcy1zdWNjZXNzXCIpO1xuICAgICAgICAgICAgJChcIi5nbHlwaGljb25cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24tcmVtb3ZlXCIpLnJlbW92ZUNsYXNzKFwiZ2x5cGhpY29uLW9rXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZChcIiNjbGljay10by1jb3B5XCIpO1xuXG4gICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnQWN0aW9uOicsIGUuYWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVGV4dDonLCBlLnRleHQpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmluZm8oJ1RyaWdnZXI6JywgZS50cmlnZ2VyKTtcbiAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9Db3B5IHRvIENsaXBib2FyZCBUb29sdGlwXG4gICAgICAgICQoXCIjY2xpY2stdG8tY29weVwiKS50b29sdGlwKCk7XG5cblxuXG4gICAgICAgIC8vRmFjZWJvb2sgTGlrZSBCdXR0b25cbiAgICAgICAgKGZ1bmN0aW9uKGQsIHMsIGlkKSB7XG4gICAgICAgICAgICAgIHZhciBqcywgZmpzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTtcbiAgICAgICAgICAgICAgaWYgKGQuZ2V0RWxlbWVudEJ5SWQoaWQpKSByZXR1cm47XG4gICAgICAgICAgICAgIGpzID0gZC5jcmVhdGVFbGVtZW50KHMpOyBqcy5pZCA9IGlkO1xuICAgICAgICAgICAgICBqcy5zcmMgPSBcIi8vY29ubmVjdC5mYWNlYm9vay5uZXQvZW5fVVMvc2RrLmpzI3hmYm1sPTEmdmVyc2lvbj12Mi40JmFwcElkPTkxNDY0NTMwMTkxOTAwOVwiO1xuICAgICAgICAgICAgICBmanMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoanMsIGZqcyk7XG4gICAgICAgICAgICB9KGRvY3VtZW50LCAnc2NyaXB0JywgJ2ZhY2Vib29rLWpzc2RrJykpO1xuICAgICAgIFxufSk7XG5cbmZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHZhciBzZXJ2aWNlID0gJChcIiNzZXJ2aWNlXCIpLmZpbmQoXCI6c2VsZWN0ZWRcIikudmFsKCk7XG4gICAgLy92YXIgc2VydmljZU5hbWUgPSAkKFwiI3NlcnZpY2VcIikuZmluZChcIjpzZWxlY3RlZFwiKS50ZXh0KCk7XG4gICAgLy9nYSgnc2VuZCcsICdldmVudCcsICdzZXJ2aWNlJywgJ2NsaWNrJywgc2VydmljZU5hbWUsIDApO1xuXG4gICAgc3dpdGNoIChzZXJ2aWNlKSB7XG4gICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgICAgICBnZXRHb29nbGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgZ2V0Qml0bHkoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgZ2V0VGlueVVSTCgpO1xuICAgICAgICAgICAgYnJlYWs7ICAgICAgIFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZ2V0R29vZ2xlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRHb29nbGUoKSB7XG4gICAgICAgIHZhciBmdWxsVVJMID0gJChcIiNmdWxsVVJMXCIpLnZhbCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gZ2FwaS5jbGllbnQudXJsc2hvcnRlbmVyLnVybC5pbnNlcnQoe1xuICAgICAgICAgICdyZXNvdXJjZSc6IHtcbiAgICAgICAgICAgICAgJ2xvbmdVcmwnOiBmdWxsVVJMXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcXVlc3QuZXhlY3V0ZShmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBcbiAgICAgICAgICAgIGlmKCFpc0VtcHR5KHJlc3BvbnNlLmlkKSkge1xuICAgICAgICAgICAgICAgIHZhciBzID0gcmVzcG9uc2UuaWQ7XG4gICAgICAgICAgICAgICAgJChcIiNzaG9ydGVuVVJMXCIpLnRleHQocyk7XG4gICAgICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICBnZXRfUVJDb2RlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJChcIiNlcnJvclwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJChcIiNlcnJvclwiKS50ZXh0KFwiZXJyb3I6IGNyZWF0aW5nIHNob3J0IHVybDogZ29vLmdsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Qml0bHkoKSB7XG4gICAgICAgIHZhciB1c2VybmFtZSA9IFwib180cWtoYnM1dmwwXCI7XG4gICAgICAgIHZhciBrZXkgPSBcIlJfMzc3MzkzN2YxYWM2NGU4OGFlNGZlMTMwZDYzNTY2ODFcIjtcbiAgICAgICAgdmFyIGZ1bGxVUkwgPSAkKFwiI2Z1bGxVUkxcIikudmFsKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOlwiaHR0cHM6Ly9hcGktc3NsLmJpdGx5LmNvbS92My9zaG9ydGVuXCIsXG4gICAgICAgICAgICBkYXRhOntsb25nVXJsOmZ1bGxVUkwsYXBpS2V5OmtleSxsb2dpbjp1c2VybmFtZX0sXG4gICAgICAgICAgICBkYXRhVHlwZTpcImpzb25wXCIsXG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9di5kYXRhLnVybDtcbiAgICAgICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChzKTtcbiAgICAgICAgICAgICAgICAkKFwiI2NsaWNrLXRvLWNvcHlcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIGdldF9RUkNvZGUocyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJChcIiNlcnJvclwiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJChcIiNlcnJvclwiKS50ZXh0KFwiZXJyb3I6IGNyZWF0aW5nIHNob3J0IHVybDogYml0Lmx5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxufVxuXG5mdW5jdGlvbiBnZXRUaW55VVJMKCkge1xuICAgICAgICB2YXIgZnVsbFVSTCA9ICQoXCIjZnVsbFVSTFwiKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICQuZ2V0SlNPTihcbiAgICAgICAgICBcImh0dHBzOi8vdXJsdGlueWZ5LmFwcHNwb3QuY29tL3Rpbnl1cmw/dXJsPVwiK2VuY29kZVVSSUNvbXBvbmVudChmdWxsVVJMKStcIiZjYWxsYmFjaz0/XCIsXG4gICAgICAgICAgLy97dXJsOiBmdWxsVVJMfSxcbiAgICAgICAgICBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICB2YXIgcyA9ZGF0YS50aW55dXJsO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChzKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0X1FSQ29kZShzKTtcbiAgICAgICAgICB9XG4gICAgICAgICkuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsgXG4gICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIjZXJyb3JcIikudGV4dChcImVycm9yOiBjcmVhdGluZyBzaG9ydCB1cmw6IFRpbnlVUkxcIik7XG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRJc2dkKCkge1xuICAgICAgICB2YXIgZnVsbFVSTCA9ICQoXCIjZnVsbFVSTFwiKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICQuZ2V0SlNPTihcbiAgICAgICAgICBcImh0dHBzOi8vdXJsdGlueWZ5LmFwcHNwb3QuY29tL2lzZ2Q/dXJsPVwiK2VuY29kZVVSSUNvbXBvbmVudChmdWxsVVJMKStcIiZjYWxsYmFjaz0/XCIsXG4gICAgICAgICAgLy97dXJsOiBmdWxsVVJMfSxcbiAgICAgICAgICBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICB2YXIgcyA9ZGF0YS50aW55dXJsO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChzKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0X1FSQ29kZShzKTtcbiAgICAgICAgICB9XG4gICAgICAgICkuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsgXG4gICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIjZXJyb3JcIikudGV4dChcImVycm9yOiBjcmVhdGluZyBzaG9ydCB1cmw6IGlzLmdkXCIpO1xuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0VmdkKCkgIHtcbiAgICAgICAgdmFyIGZ1bGxVUkwgPSAkKFwiI2Z1bGxVUkxcIikudmFsKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAkLmdldEpTT04oXG4gICAgICAgICAgXCJodHRwczovL3VybHRpbnlmeS5hcHBzcG90LmNvbS92Z2Q/dXJsPVwiK2VuY29kZVVSSUNvbXBvbmVudChmdWxsVVJMKStcIiZjYWxsYmFjaz0/XCIsXG4gICAgICAgICAgLy97dXJsOiBmdWxsVVJMfSxcbiAgICAgICAgICBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICB2YXIgcyA9ZGF0YS50aW55dXJsO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChzKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0X1FSQ29kZShzKTtcbiAgICAgICAgICB9XG4gICAgICAgICkuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsgXG4gICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIjZXJyb3JcIikudGV4dChcImVycm9yOiBjcmVhdGluZyBzaG9ydCB1cmw6IHYuZ2RcIik7XG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICAkKFwiI2Vycm9yXCIpLmhpZGUoKTtcbiAgICAgICAgJChcIiNlcnJvclwiKS5hZGRDbGFzcyhcImlzYV9lcnJvclwiKTsgICAgICAgIFxuICAgICAgICAkKFwiI2NsaWNrLXRvLWNvcHlcIikuaGlkZSgpO1xuXG4gICAgICAgIGdhcGkuY2xpZW50LnNldEFwaUtleSgnQUl6YVN5QUZQRVRFaE9MSkdNTFVxOVFsX28zbHlKdHZKNUlVYXFvJyk7XG4gICAgICAgIGdhcGkuY2xpZW50LmxvYWQoJ3VybHNob3J0ZW5lcicsICd2MScsIGZ1bmN0aW9uKCl7fSk7XG59XG53aW5kb3cub25sb2FkID0gbG9hZDtcbiAgICBcbmZ1bmN0aW9uIGdldF9RUkNvZGUodGV4dCkge1xuICAgIFxuICAgIHZhciBzaXplID0gMTIwO1xuICAgIGlmICghaXNFbXB0eSh0ZXh0KSkgeyAgIFxuICAgICAgICBqUXVlcnkoJyNxcmNvZGUnKS5xcmNvZGUoe3dpZHRoOiBzaXplICxoZWlnaHQ6IHNpemUgLHRleHQ6IHRleHR9KTtcbiAgICB9XG59ICAgIFxuXG5mdW5jdGlvbiBpc1VybCh1cmwpIHtcbiAgIHZhciBzdHJSZWdleCA9IFwiXigoaHR0cHN8aHR0cHxmdHB8cnRzcHxtbXMpPzovLylcIlxuICAgICAgICArIFwiPygoWzAtOWEtel8hfionKCkuJj0rJCUtXSs6ICk/WzAtOWEtel8hfionKCkuJj0rJCUtXStAKT9cIiAvL2Z0cOeahHVzZXJAXG4gICAgICAgICsgXCIoKFswLTldezEsM31cXC4pezN9WzAtOV17MSwzfVwiIC8vIElQ5b2i5byP55qEVVJMLSAxOTkuMTk0LjUyLjE4NFxuICAgICAgICArIFwifFwiIC8vIOWFgeiuuElQ5ZKMRE9NQUlO77yI5Z+f5ZCN77yJXG4gICAgICAgICsgXCIoWzAtOWEtel8hfionKCktXStcXC4pKlwiIC8vIOWfn+WQjS0gd3d3LlxuICAgICAgICArIFwiKFswLTlhLXpdWzAtOWEtei1dezAsNjF9KT9bMC05YS16XVxcLlwiIC8vIOS6jOe6p+Wfn+WQjVxuICAgICAgICArIFwiW2Etel17Miw2fSlcIiAvLyBmaXJzdCBsZXZlbCBkb21haW4tIC5jb20gb3IgLm11c2V1bVxuICAgICAgICAvLysgXCIoOlswLTldezEsNH0pP1wiIC8vIOerr+WPoy0gOjgwXG4gICAgICAgICsgXCIoKC8/KXxcIiAvLyBhIHNsYXNoIGlzbid0IHJlcXVpcmVkIGlmIHRoZXJlIGlzIG5vIGZpbGUgbmFtZVxuICAgICAgICArIFwiKC9bMC05YS16XyF+KicoKS47PzpAJj0rJCwlIy1dKykrLz8pJFwiO1xuICAgICB2YXIgcmU9bmV3IFJlZ0V4cChzdHJSZWdleCk7XG4gICAgIHJldHVybiByZS50ZXN0KHVybCk7XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkoc3RyKSB7XG4gICAgcmV0dXJuICghc3RyIHx8IDAgPT09IHN0ci5sZW5ndGgpO1xufVxuIl19
