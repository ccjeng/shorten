function makeRequest(){var e=$("#service").find(":selected").val();switch(e){case"g":getGoogle();break;case"b":getBitly();break;case"t":getTinyURL();break;case"i":getIsgd();break;case"v":getVgd();break;default:Google()}}function getGoogle(){var e=$("#fullURL").val().toLowerCase(),t=gapi.client.urlshortener.url.insert({resource:{longUrl:e}});t.execute(function(e){if(null!=e.id){var t=e.id;$("#shortenURL").text(t),get_QRCode(t)}else $("#error").show(),$("#error").text("error: creating short url: goo.gl")})}function getBitly(){var e="o_4qkhbs5vl0",t="R_3773937f1ac64e88ae4fe130d6356681",o=$("#fullURL").val().toLowerCase();$.ajax({url:"http://api.bit.ly/v3/shorten",data:{longUrl:o,apiKey:t,login:e},dataType:"jsonp",success:function(e){var t=e.data.url;$("#shortenURL").text(t),get_QRCode(t)},error:function(){$("#error").show(),$("#error").text("error: creating short url: bit.ly")}})}function getTinyURL(){var e=$("#fullURL").val().toLowerCase();$.getJSON("http://urltinyfy.appspot.com/tinyurl?url="+e+"&callback=?",function(e){var t=e.tinyurl;$("#shortenURL").text(t),get_QRCode(t)})}function getIsgd(){var e=$("#fullURL").val().toLowerCase();$.getJSON("http://urltinyfy.appspot.com/isgd?url="+e+"&callback=?",function(e){var t=e.tinyurl;$("#shortenURL").text(t),get_QRCode(t)})}function getVgd(){var e=$("#fullURL").val().toLowerCase();$.getJSON("http://urltinyfy.appspot.com/vgd?url="+e+"&callback=?",function(e){var t=e.tinyurl;$("#shortenURL").text(t),get_QRCode(t)})}function load(){$("#error").hide(),$("#error").addClass("isa_error"),$("#click-to-copy").hide(),gapi.client.setApiKey("AIzaSyAFPETEhOLJGMLUq9Ql_o3lyJtvJ5IUaqo"),gapi.client.load("urlshortener","v1",function(){})}function get_QRCode(e){var t=120;jQuery("#qrcode").qrcode({width:t,height:t,text:e})}function isUrl(e){var t="^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",o=new RegExp(t);return o.test(e)}$(document).ready(function(){$("form").submit(function(e){e.preventDefault();{var t=$("#fullURL").val().toLowerCase();$("#shortenURL").val(),$("#service").find(":selected").val()}$("#error").text(""),$("#shortenURL").text(""),$("#qrcode").text(""),isUrl(t)?($("#form").removeClass("has-error").addClass("has-success"),$(".glyphicon").removeClass("glyphicon-remove").addClass("glyphicon-ok"),$("#error").hide(),$("#click-to-copy").show(),makeRequest()):($("#form").removeClass("has-success").addClass("has-error"),$(".glyphicon").removeClass("glyphicon-ok").addClass("glyphicon-remove"),$("#error").show(),$("#error").text("URL format is not correct"),$("#click-to-copy").hide())}),$("#clean").click(function(){$("#fullURL").val(""),$("#error").hide(),$("#error").text(""),$("#click-to-copy").hide(),$("#shortenURL").text(""),$("#qrcode").text(""),$("#form").removeClass("has-error").removeClass("has-success"),$(".glyphicon").removeClass("glyphicon-remove").removeClass("glyphicon-ok")});var e=new ZeroClipboard($("#click-to-copy"),{moviePath:"./flash/ZeroClipboard.swf",debug:!1});e.on("load",function(e){e.on("complete",function(e,t){e.setText(t.text)})}),$("#click-to-copy").tooltip()}),window.onload=load;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWFrZVJlcXVlc3QiLCJzZXJ2aWNlIiwiJCIsImZpbmQiLCJ2YWwiLCJnZXRHb29nbGUiLCJnZXRCaXRseSIsImdldFRpbnlVUkwiLCJnZXRJc2dkIiwiZ2V0VmdkIiwiR29vZ2xlIiwiZnVsbFVSTCIsInRvTG93ZXJDYXNlIiwicmVxdWVzdCIsImdhcGkiLCJjbGllbnQiLCJ1cmxzaG9ydGVuZXIiLCJ1cmwiLCJpbnNlcnQiLCJyZXNvdXJjZSIsImxvbmdVcmwiLCJleGVjdXRlIiwicmVzcG9uc2UiLCJpZCIsInMiLCJ0ZXh0IiwiZ2V0X1FSQ29kZSIsInNob3ciLCJ1c2VybmFtZSIsImtleSIsImFqYXgiLCJkYXRhIiwiYXBpS2V5IiwibG9naW4iLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJ2IiwiZXJyb3IiLCJnZXRKU09OIiwidGlueXVybCIsImxvYWQiLCJoaWRlIiwiYWRkQ2xhc3MiLCJzZXRBcGlLZXkiLCJzaXplIiwialF1ZXJ5IiwicXJjb2RlIiwid2lkdGgiLCJoZWlnaHQiLCJpc1VybCIsInN0clJlZ2V4IiwicmUiLCJSZWdFeHAiLCJ0ZXN0IiwiZG9jdW1lbnQiLCJyZWFkeSIsInN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUNsYXNzIiwiY2xpY2siLCJaZXJvQ2xpcGJvYXJkIiwibW92aWVQYXRoIiwiZGVidWciLCJvbiIsImFyZ3MiLCJzZXRUZXh0IiwidG9vbHRpcCIsIndpbmRvdyIsIm9ubG9hZCJdLCJtYXBwaW5ncyI6IkFBOERBLFFBQUFBLGVBQ0EsR0FBQUMsR0FBQUMsRUFBQSxZQUFBQyxLQUFBLGFBQUFDLEtBQ0EsUUFBQUgsR0FDQSxJQUFBLElBQ0FJLFdBQ0EsTUFDQSxLQUFBLElBQ0FDLFVBQ0EsTUFDQSxLQUFBLElBQ0FDLFlBQ0EsTUFDQSxLQUFBLElBQ0FDLFNBQ0EsTUFDQSxLQUFBLElBQ0FDLFFBQ0EsTUFDQSxTQUNBQyxVQUlBLFFBQUFMLGFBQ0EsR0FBQU0sR0FB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WUFBQUUsSUFBQSxJQUNBRixFQUFBLFVBQUF1QyxPQUNBdkMsRUFBQSxVQUFBdUIsS0FBQSxJQUNBdkIsRUFBQSxrQkFBQXVDLE9BQ0F2QyxFQUFBLGVBQUF1QixLQUFBLElBQ0F2QixFQUFBLFdBQUF1QixLQUFBLElBQ0F2QixFQUFBLFNBQUF5RCxZQUFBLGFBQUFBLFlBQUEsZUFDQXpELEVBQUEsY0FBQXlELFlBQUEsb0JBQUFBLFlBQUEsaUJBS0EsSUFBQTVDLEdBQUEsR0FBQThDLGVBQUEzRCxFQUFBLG1CQUNBNEQsVUFBQSw0QkFDQUMsT0FBQSxHQUlBaEQsR0FBQWlELEdBQUEsT0FBQSxTQUFBakQsR0FDQUEsRUFBQWlELEdBQUEsV0FBQSxTQUFBakQsRUFBQWtELEdBQ0FsRCxFQUFBbUQsUUFBQUQsRUFBQXhDLFVBSUF2QixFQUFBLGtCQUFBaUUsWUF5SEFDLE9BQUFDLE9BQUE3QiIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCJmb3JtXCIpLnN1Ym1pdChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgZnVsbFVSTCA9ICQoXCIjZnVsbFVSTFwiKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIHNob3J0ZW5VUkwgPSAkKFwiI3Nob3J0ZW5VUkxcIikudmFsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gJChcIiNzZXJ2aWNlXCIpLmZpbmQoXCI6c2VsZWN0ZWRcIikudmFsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vY2xlYW5cbiAgICAgICAgICAgICQoXCIjZXJyb3JcIikudGV4dChcIlwiKTtcbiAgICAgICAgICAgICQoXCIjc2hvcnRlblVSTFwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgJChcIiNxcmNvZGVcIikudGV4dChcIlwiKTtcblxuICAgICAgICAgICAgaWYgKCFpc1VybChmdWxsVVJMKSkge1xuICAgICAgICAgICAgICAgIC8vRXJyb3JcbiAgICAgICAgICAgICAgICAkKFwiI2Zvcm1cIikucmVtb3ZlQ2xhc3MoXCJoYXMtc3VjY2Vzc1wiKS5hZGRDbGFzcyhcImhhcy1lcnJvclwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmdseXBoaWNvblwiKS5yZW1vdmVDbGFzcyhcImdseXBoaWNvbi1va1wiKS5hZGRDbGFzcyhcImdseXBoaWNvbi1yZW1vdmVcIik7ICAgIFxuICAgICAgICAgICAgICAgICQoXCIjZXJyb3JcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoXCIjZXJyb3JcIikudGV4dChcIlVSTCBmb3JtYXQgaXMgbm90IGNvcnJlY3RcIik7XG4gICAgICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLmhpZGUoKTtcbiAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vU3VjY2Vzc1xuICAgICAgICAgICAgICAgICQoXCIjZm9ybVwiKS5yZW1vdmVDbGFzcyhcImhhcy1lcnJvclwiKS5hZGRDbGFzcyhcImhhcy1zdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgICQoXCIuZ2x5cGhpY29uXCIpLnJlbW92ZUNsYXNzKFwiZ2x5cGhpY29uLXJlbW92ZVwiKS5hZGRDbGFzcyhcImdseXBoaWNvbi1va1wiKTtcbiAgICAgICAgICAgICAgICAkKFwiI2Vycm9yXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKFwiI2NsaWNrLXRvLWNvcHlcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIG1ha2VSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcblxuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiI2NsZWFuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJChcIiNmdWxsVVJMXCIpLnZhbChcIlwiKTtcbiAgICAgICAgICAgICQoXCIjZXJyb3JcIikuaGlkZSgpO1xuICAgICAgICAgICAgJChcIiNlcnJvclwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgJChcIiNjbGljay10by1jb3B5XCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIjc2hvcnRlblVSTFwiKS50ZXh0KFwiXCIpO1xuICAgICAgICAgICAgJChcIiNxcmNvZGVcIikudGV4dChcIlwiKTtcbiAgICAgICAgICAgICQoXCIjZm9ybVwiKS5yZW1vdmVDbGFzcyhcImhhcy1lcnJvclwiKS5yZW1vdmVDbGFzcyhcImhhcy1zdWNjZXNzXCIpO1xuICAgICAgICAgICAgJChcIi5nbHlwaGljb25cIikucmVtb3ZlQ2xhc3MoXCJnbHlwaGljb24tcmVtb3ZlXCIpLnJlbW92ZUNsYXNzKFwiZ2x5cGhpY29uLW9rXCIpO1xuICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBaZXJvQ2xpcGJvYXJkKCAkKFwiI2NsaWNrLXRvLWNvcHlcIiksIHtcbiAgICAgICAgICAgICAgbW92aWVQYXRoOiBcIi4vZmxhc2gvWmVyb0NsaXBib2FyZC5zd2ZcIixcbiAgICAgICAgICAgICAgZGVidWc6IGZhbHNlXG4gICAgICAgIH0gKTtcblxuXG4gICAgICAgIGNsaWVudC5vbiggXCJsb2FkXCIsIGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgICAgICAgIGNsaWVudC5vbiggXCJjb21wbGV0ZVwiLCBmdW5jdGlvbihjbGllbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNldFRleHQoIGFyZ3MudGV4dCApOyAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKFwiI2NsaWNrLXRvLWNvcHlcIikudG9vbHRpcCgpO1xuICAgICAgIFxufSk7XG5cbmZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHZhciBzZXJ2aWNlID0gJChcIiNzZXJ2aWNlXCIpLmZpbmQoXCI6c2VsZWN0ZWRcIikudmFsKCk7XG4gICAgc3dpdGNoIChzZXJ2aWNlKSB7XG4gICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgICAgICBnZXRHb29nbGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgZ2V0Qml0bHkoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICAgICAgZ2V0VGlueVVSTCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICBnZXRJc2dkKCk7XG4gICAgICAgICAgICBicmVhazsgXG4gICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICBnZXRWZ2QoKTtcbiAgICAgICAgICAgIGJyZWFrOyAgICAgICAgIFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgR29vZ2xlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRHb29nbGUoKSB7XG4gICAgICAgIHZhciBmdWxsVVJMID0gJChcIiNmdWxsVVJMXCIpLnZhbCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gZ2FwaS5jbGllbnQudXJsc2hvcnRlbmVyLnVybC5pbnNlcnQoe1xuICAgICAgICAgICdyZXNvdXJjZSc6IHtcbiAgICAgICAgICAgICAgJ2xvbmdVcmwnOiBmdWxsVVJMXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcXVlc3QuZXhlY3V0ZShmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IHJlc3BvbnNlLmlkO1xuICAgICAgICAgICAgICAgICQoXCIjc2hvcnRlblVSTFwiKS50ZXh0KHMpO1xuICAgICAgICAgICAgICAgIGdldF9RUkNvZGUocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKFwiI2Vycm9yXCIpLnRleHQoXCJlcnJvcjogY3JlYXRpbmcgc2hvcnQgdXJsOiBnb28uZ2xcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRCaXRseSgpIHtcbiAgICAgICAgdmFyIHVzZXJuYW1lID0gXCJvXzRxa2hiczV2bDBcIjtcbiAgICAgICAgdmFyIGtleSA9IFwiUl8zNzczOTM3ZjFhYzY0ZTg4YWU0ZmUxMzBkNjM1NjY4MVwiO1xuICAgICAgICB2YXIgZnVsbFVSTCA9ICQoXCIjZnVsbFVSTFwiKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6XCJodHRwOi8vYXBpLmJpdC5seS92My9zaG9ydGVuXCIsXG4gICAgICAgICAgICBkYXRhOntsb25nVXJsOmZ1bGxVUkwsYXBpS2V5OmtleSxsb2dpbjp1c2VybmFtZX0sXG4gICAgICAgICAgICBkYXRhVHlwZTpcImpzb25wXCIsXG4gICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9di5kYXRhLnVybDtcbiAgICAgICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChzKTtcbiAgICAgICAgICAgICAgICBnZXRfUVJDb2RlKHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICQoXCIjZXJyb3JcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoXCIjZXJyb3JcIikudGV4dChcImVycm9yOiBjcmVhdGluZyBzaG9ydCB1cmw6IGJpdC5seVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZ2V0VGlueVVSTCgpIHtcbiAgICAgICAgdmFyIGZ1bGxVUkwgPSAkKFwiI2Z1bGxVUkxcIikudmFsKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAkLmdldEpTT04oXG4gICAgICAgICAgXCJodHRwOi8vdXJsdGlueWZ5LmFwcHNwb3QuY29tL3Rpbnl1cmw/dXJsPVwiK2Z1bGxVUkwrXCImY2FsbGJhY2s9P1wiLFxuICAgICAgICAgIC8ve3VybDogZnVsbFVSTH0sXG4gICAgICAgICAgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgdmFyIHMgPWRhdGEudGlueXVybDtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzaG9ydGVuVVJMXCIpLnRleHQocyk7XG4gICAgICAgICAgICAgICAgICAgIGdldF9RUkNvZGUocyk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xufVxuXG5mdW5jdGlvbiBnZXRJc2dkKCkge1xuICAgICAgICB2YXIgZnVsbFVSTCA9ICQoXCIjZnVsbFVSTFwiKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICQuZ2V0SlNPTihcbiAgICAgICAgICBcImh0dHA6Ly91cmx0aW55ZnkuYXBwc3BvdC5jb20vaXNnZD91cmw9XCIrZnVsbFVSTCtcIiZjYWxsYmFjaz0/XCIsXG4gICAgICAgICAgLy97dXJsOiBmdWxsVVJMfSxcbiAgICAgICAgICBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICB2YXIgcyA9ZGF0YS50aW55dXJsO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3Nob3J0ZW5VUkxcIikudGV4dChzKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0X1FSQ29kZShzKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG59XG5cbmZ1bmN0aW9uIGdldFZnZCgpICB7XG4gICAgICAgIHZhciBmdWxsVVJMID0gJChcIiNmdWxsVVJMXCIpLnZhbCgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgJC5nZXRKU09OKFxuICAgICAgICAgIFwiaHR0cDovL3VybHRpbnlmeS5hcHBzcG90LmNvbS92Z2Q/dXJsPVwiK2Z1bGxVUkwrXCImY2FsbGJhY2s9P1wiLFxuICAgICAgICAgIC8ve3VybDogZnVsbFVSTH0sXG4gICAgICAgICAgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgdmFyIHMgPWRhdGEudGlueXVybDtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzaG9ydGVuVVJMXCIpLnRleHQocyk7XG4gICAgICAgICAgICAgICAgICAgIGdldF9RUkNvZGUocyk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xufVxuXG5mdW5jdGlvbiBsb2FkKCkge1xuICAgICAgICAkKFwiI2Vycm9yXCIpLmhpZGUoKTtcbiAgICAgICAgJChcIiNlcnJvclwiKS5hZGRDbGFzcyhcImlzYV9lcnJvclwiKTsgICAgICAgIFxuICAgICAgICAkKFwiI2NsaWNrLXRvLWNvcHlcIikuaGlkZSgpO1xuXG4gICAgICAgIGdhcGkuY2xpZW50LnNldEFwaUtleSgnQUl6YVN5QUZQRVRFaE9MSkdNTFVxOVFsX28zbHlKdHZKNUlVYXFvJyk7XG4gICAgICAgIGdhcGkuY2xpZW50LmxvYWQoJ3VybHNob3J0ZW5lcicsICd2MScsIGZ1bmN0aW9uKCl7fSk7XG59XG53aW5kb3cub25sb2FkID0gbG9hZDtcbiAgICBcbmZ1bmN0aW9uIGdldF9RUkNvZGUodGV4dCkge1xuICAgIFxuICAgIC8vY29uc29sZS5sb2coXCJ0ZXh0PSBcIiArIHRleHQpO1xuXG4gICAgdmFyIHNpemUgPSAxMjA7XG4gICAgICAgICAgICBcbiAgICBqUXVlcnkoJyNxcmNvZGUnKS5xcmNvZGUoe3dpZHRoOiBzaXplICxoZWlnaHQ6IHNpemUgLHRleHQ6IHRleHR9KTtcblxufSAgICBcblxuZnVuY3Rpb24gaXNVcmwodXJsKSB7XG4gICB2YXIgc3RyUmVnZXggPSBcIl4oKGh0dHBzfGh0dHB8ZnRwfHJ0c3B8bW1zKT86Ly8pXCJcbiAgICAgICAgKyBcIj8oKFswLTlhLXpfIX4qJygpLiY9KyQlLV0rOiApP1swLTlhLXpfIX4qJygpLiY9KyQlLV0rQCk/XCIgLy9mdHDnmoR1c2VyQFxuICAgICAgICArIFwiKChbMC05XXsxLDN9XFwuKXszfVswLTldezEsM31cIiAvLyBJUOW9ouW8j+eahFVSTC0gMTk5LjE5NC41Mi4xODRcbiAgICAgICAgKyBcInxcIiAvLyDlhYHorrhJUOWSjERPTUFJTu+8iOWfn+WQje+8iVxuICAgICAgICArIFwiKFswLTlhLXpfIX4qJygpLV0rXFwuKSpcIiAvLyDln5/lkI0tIHd3dy5cbiAgICAgICAgKyBcIihbMC05YS16XVswLTlhLXotXXswLDYxfSk/WzAtOWEtel1cXC5cIiAvLyDkuoznuqfln5/lkI1cbiAgICAgICAgKyBcIlthLXpdezIsNn0pXCIgLy8gZmlyc3QgbGV2ZWwgZG9tYWluLSAuY29tIG9yIC5tdXNldW1cbiAgICAgICAgLy8rIFwiKDpbMC05XXsxLDR9KT9cIiAvLyDnq6/lj6MtIDo4MFxuICAgICAgICArIFwiKCgvPyl8XCIgLy8gYSBzbGFzaCBpc24ndCByZXF1aXJlZCBpZiB0aGVyZSBpcyBubyBmaWxlIG5hbWVcbiAgICAgICAgKyBcIigvWzAtOWEtel8hfionKCkuOz86QCY9KyQsJSMtXSspKy8/KSRcIjtcbiAgICAgdmFyIHJlPW5ldyBSZWdFeHAoc3RyUmVnZXgpO1xuICAgICByZXR1cm4gcmUudGVzdCh1cmwpO1xufVxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=